# Используем базовый образ Node.js
FROM node:20-alpine

# Устанавливаем рабочую директорию в контейнере
WORKDIR /app

# Копируем package.json и package-lock.json (или yarn.lock)
# Это позволяет Docker кэшировать слой с зависимостями, если эти файлы не изменились
COPY package*.json ./

# Устанавливаем зависимости
RUN npm install

# Копируем остальной код приложения
# Этот шаг важен, если вы захотите собрать образ без монтирования volume,
# но при использовании volume с docker-compose, файлы из хоста перекроют эти.
COPY . .

# EXPOSE не открывает порт сам по себе, а служит документацией для пользователя образа
# и может использоваться некоторыми системами для автоматического маппинга.
# Укажите порт, на котором запускается ваш dev-сервер (например, 3000 для CRA, 5173 для Vite)
# EXPOSE 3000

# Команда для запуска сервера разработки
# Замените "npm run dev" на вашу команду, если она отличается (например, "npm start")
CMD ["npm", "run", "dev"]